[gd_scene load_steps=13 format=4 uid="uid://dmj7onsbuh3kj"]

[ext_resource type="Script" uid="uid://do52b6t0uecpq" path="res://scripts/gameplay_vars.gd" id="1_cexea"]
[ext_resource type="Script" uid="uid://mxan1omljs3d" path="res://scripts/tile_procgen.gd" id="2_bd6dg"]
[ext_resource type="FontFile" uid="uid://ds3387fh4y7fs" path="res://art/CONCHARS.png" id="3_k6jil"]
[ext_resource type="Texture2D" uid="uid://2t8kr67p832t" path="res://icon.svg" id="3_rxyb6"]
[ext_resource type="TileSet" uid="uid://dsbi0l2ubmynq" path="res://art/tileset.tres" id="3_wkp28"]
[ext_resource type="Script" uid="uid://cyj2swagf6rdk" path="res://scripts/calc_enemy_paths.gd" id="4_6lh35"]
[ext_resource type="Script" uid="uid://njroyot21xv6" path="res://scripts/fog_of_war.gd" id="4_pk1v7"]
[ext_resource type="Texture2D" uid="uid://cc34ebigbes40" path="res://art/sprites.png" id="7_g4nnd"]
[ext_resource type="PackedScene" uid="uid://ohqdcn8ooec2" path="res://scenes/enemy.tscn" id="9_7c77r"]
[ext_resource type="PackedScene" uid="uid://cqddiwdc6knkx" path="res://scenes/player_drill.tscn" id="10_pk1v7"]

[sub_resource type="LabelSettings" id="LabelSettings_k6jil"]
font = ExtResource("3_k6jil")
font_size = 8

[sub_resource type="AtlasTexture" id="AtlasTexture_7c77r"]
atlas = ExtResource("7_g4nnd")
region = Rect2(0, 112, 16, 16)

[node name="Gameplay" type="Node2D"]
texture_filter = 1
script = ExtResource("1_cexea")

[node name="Camera" type="Camera2D" parent="."]
process_callback = 0

[node name="Background" type="TileMapLayer" parent="."]
tile_map_data = PackedByteArray("AAD3//7/AAAQAAUAAAD4//7/AAAQAAUAAAD5//7/AAAQAAUAAAD6//7/AAAQAAUAAAD7//7/AAAQAAUAAAD8//7/AAAQAAUAAAD9//7/AAAQAAUAAAD+//7/AAAQAAUAAAD///7/AAAQAAUAAAAAAP7/AAAQAAUAAAABAP7/AAAQAAUAAAACAP7/AAAQAAUAAAADAP7/AAAQAAUAAAAEAP7/AAAQAAUAAAAFAP7/AAAQAAUAAAAGAP7/AAAQAAUAAAAHAP7/AAAQAAUAAAAIAP7/AAAQAAUAAAAIAP//AAAQAAUAAAAHAP//AAAQAAUAAAAGAP//AAAQAAUAAAAFAP//AAAQAAUAAAAEAP//AAAQAAUAAAADAP//AAAQAAUAAAACAP//AAAQAAUAAAABAP//AAAQAAUAAAAAAP//AAAQAAUAAAD/////AAAQAAUAAAD+////AAAQAAUAAAD9////AAAQAAUAAAD8////AAAQAAUAAAD7////AAAQAAUAAAD6////AAAQAAUAAAD5////AAAQAAUAAAD4////AAAQAAUAAAD3////AAAQAAUAAAD3/wAAAAAQAAUAAAD4/wAAAAAQAAUAAAD5/wAAAAAQAAUAAAD6/wAAAAAQAAUAAAD7/wAAAAAQAAUAAAD8/wAAAAAQAAUAAAD9/wAAAAAQAAUAAAD+/wAAAAAQAAUAAAD//wAAAAAQAAUAAAAAAAAAAAAQAAUAAAABAAAAAAAQAAUAAAACAAAAAAAQAAUAAAADAAAAAAAQAAUAAAAEAAAAAAAQAAUAAAAFAAAAAAAQAAUAAAAGAAAAAAAQAAUAAAAHAAAAAAAQAAUAAAAIAAAAAAAQAAUAAAAIAAEAAAAQAAUAAAAHAAEAAAAQAAUAAAAGAAEAAAAQAAUAAAAFAAEAAAAQAAUAAAAEAAEAAAAQAAUAAAADAAEAAAAQAAUAAAACAAEAAAAQAAUAAAABAAEAAAAQAAUAAAAAAAEAAAAQAAUAAAD//wEAAAAQAAUAAAD+/wEAAAAQAAUAAAD9/wEAAAAQAAUAAAD8/wEAAAAQAAUAAAD7/wEAAAAQAAUAAAD6/wEAAAAQAAUAAAD5/wEAAAAQAAUAAAD4/wEAAAAQAAUAAAD3/wEAAAAQAAUAAAD3/wIAAAAQAAUAAAD4/wIAAAAQAAUAAAD5/wIAAAAQAAUAAAD6/wIAAAAQAAUAAAD7/wIAAAAQAAUAAAD8/wIAAAAQAAUAAAD9/wIAAAAQAAUAAAD+/wIAAAAQAAUAAAD//wIAAAAQAAUAAAAAAAIAAAAQAAUAAAABAAIAAAAQAAUAAAACAAIAAAAQAAUAAAADAAIAAAAQAAUAAAAEAAIAAAAQAAUAAAAFAAIAAAAQAAUAAAAGAAIAAAAQAAUAAAAHAAIAAAAQAAUAAAAIAAIAAAAQAAUAAAAIAAMAAAAQAAUAAAAHAAMAAAAQAAUAAAAGAAMAAAAQAAUAAAAFAAMAAAAQAAUAAAAEAAMAAAAQAAUAAAADAAMAAAAQAAUAAAACAAMAAAAQAAUAAAABAAMAAAAQAAUAAAAAAAMAAAAQAAUAAAD//wMAAAAQAAUAAAD+/wMAAAAQAAUAAAD9/wMAAAAQAAUAAAD8/wMAAAAQAAUAAAD7/wMAAAAQAAUAAAD6/wMAAAAQAAUAAAD5/wMAAAAQAAUAAAD4/wMAAAAQAAUAAAD3/wMAAAAQAAUAAAD3/wQAAAAQAAUAAAD4/wQAAAAQAAUAAAD5/wQAAAAQAAUAAAD6/wQAAAAQAAUAAAD7/wQAAAAQAAUAAAD8/wQAAAAQAAUAAAD9/wQAAAAQAAUAAAD+/wQAAAAQAAUAAAD//wQAAAAQAAUAAAAAAAQAAAAQAAUAAAABAAQAAAAQAAUAAAACAAQAAAAQAAUAAAADAAQAAAAQAAUAAAAEAAQAAAAQAAUAAAAFAAQAAAAQAAUAAAAGAAQAAAAQAAUAAAAHAAQAAAAQAAUAAAAIAAQAAAAQAAUAAAA=")
tile_set = ExtResource("3_wkp28")
collision_enabled = false

[node name="WallsResources" type="TileMapLayer" parent="." node_paths=PackedStringArray("FOG_OF_WAR", "BACKGROUND")]
tile_map_data = PackedByteArray("AAD6////AAARAAEAAAD6/wIAAAAQAAMAAAAEAAMAAAAQAAMAAAABAAMAAAARAAEAAAD9////AAAQAAMAAAAEAP//AAAQAAMAAAADAAEAAAARAAEAAAD4/wAAAAAQAAMAAAD4/wMAAAARAAEAAAAHAAAAAAARAAEAAAACAAMAAAAQAAEAAAACAAIAAAAQAAEAAAABAAIAAAAQAAEAAAABAAEAAAAQAAEAAAAAAAEAAAAQAAEAAAAAAAIAAAAQAAEAAAAAAAMAAAAQAAEAAAAAAAQAAAAQAAEAAAD//wQAAAAQAAEAAAD+/wQAAAAQAAEAAAD+/wMAAAAQAAEAAAD9/wMAAAAQAAEAAAD8/wMAAAAQAAEAAAD7/wMAAAAQAAEAAAD7/wIAAAAQAAEAAAD7/wEAAAAQAAEAAAD7/wAAAAAQAAEAAAD7////AAAQAAEAAAD7//7/AAAQAAEAAAD6//7/AAAQAAEAAAD5//7/AAAQAAEAAAD4//7/AAAQAAEAAAD3//7/AAAQAAEAAAD3////AAAQAAEAAAD3/wAAAAAQAAEAAAD3/wEAAAAQAAEAAAD3/wIAAAAQAAEAAAD3/wMAAAAQAAEAAAD3/wQAAAAQAAEAAAD4/wQAAAAQAAEAAAD5/wQAAAAQAAEAAAD5/wMAAAAQAAEAAAD5/wIAAAAQAAEAAAD5/wEAAAAQAAEAAAD5/wAAAAAQAAEAAAD5////AAAQAAEAAAD4////AAAQAAEAAAD6/wAAAAAQAAEAAAD6/wEAAAAQAAEAAAD4/wEAAAAQAAEAAAD4/wIAAAAQAAEAAAD6/wMAAAAQAAEAAAD6/wQAAAAQAAEAAAD7/wQAAAAQAAEAAAD8/wQAAAAQAAEAAAD9/wQAAAAQAAEAAAD8//7/AAAQAAEAAAD8////AAAQAAEAAAD8/wAAAAAQAAEAAAD9/wAAAAAQAAEAAAD9/wEAAAAQAAEAAAD+/wEAAAAQAAEAAAD+/wAAAAAQAAEAAAD+////AAAQAAEAAAD+//7/AAAQAAEAAAD9//7/AAAQAAEAAAABAAQAAAAQAAEAAAACAAQAAAAQAAEAAAADAAQAAAAQAAEAAAADAAMAAAAQAAEAAAADAAIAAAAQAAEAAAAEAAIAAAAQAAEAAAAEAAEAAAAQAAEAAAAEAAAAAAAQAAEAAAADAAAAAAAQAAEAAAADAP//AAAQAAEAAAADAP7/AAAQAAEAAAACAP7/AAAQAAEAAAABAP7/AAAQAAEAAAAAAP7/AAAQAAEAAAAAAP//AAAQAAEAAAABAP//AAAQAAEAAAACAP//AAAQAAEAAAAEAP7/AAAQAAEAAAAFAP7/AAAQAAEAAAAFAP//AAAQAAEAAAAFAAAAAAAQAAEAAAAFAAEAAAAQAAEAAAAFAAIAAAAQAAEAAAAFAAMAAAAQAAEAAAAFAAQAAAAQAAEAAAAEAAQAAAAQAAEAAAAGAAQAAAAQAAEAAAAGAAMAAAAQAAEAAAAHAAMAAAAQAAEAAAAHAAQAAAAQAAEAAAAIAAQAAAAQAAEAAAAIAAMAAAAQAAEAAAAIAAIAAAAQAAEAAAAIAAEAAAAQAAEAAAAIAAAAAAAQAAEAAAAIAP//AAAQAAEAAAAIAP7/AAAQAAEAAAAHAP7/AAAQAAEAAAAHAP//AAAQAAEAAAAHAAEAAAAQAAEAAAA=")
tile_set = ExtResource("3_wkp28")
script = ExtResource("2_bd6dg")
FOG_OF_WAR = NodePath("../FogOfWar")
BACKGROUND = NodePath("../Background")

[node name="FogOfWar" type="TileMapLayer" parent="."]
position = Vector2(0, 1)
tile_map_data = PackedByteArray("AAD3/wQAAAARAAYAAAD3/wMAAAARAAYAAAD4/wMAAAARAAYAAAD4/wQAAAARAAYAAAD5/wQAAAARAAYAAAD5/wMAAAARAAYAAAD4/wIAAAARAAYAAAD3/wIAAAARAAYAAAD6/wQAAAARAAYAAAD5/wIAAAARAAYAAAD5/wEAAAARAAYAAAD4/wEAAAARAAYAAAD3/wEAAAARAAYAAAD3/wAAAAARAAYAAAD4/wAAAAARAAYAAAD5/wAAAAARAAYAAAACAAQAAAARAAYAAAADAAQAAAARAAYAAAAEAAMAAAARAAYAAAAEAAQAAAARAAYAAAAFAAQAAAARAAYAAAAGAAQAAAARAAYAAAAHAAQAAAARAAYAAAAIAAQAAAARAAYAAAA=")
tile_set = ExtResource("3_wkp28")
collision_enabled = false
script = ExtResource("4_pk1v7")

[node name="EnemyFloodfillCalc" type="Node" parent="." node_paths=PackedStringArray("map")]
script = ExtResource("4_6lh35")
map = NodePath("../WallsResources")

[node name="UIOverlay" type="CanvasLayer" parent="."]
layer = 99
follow_viewport_enabled = true

[node name="GoldCounter" type="Label" parent="UIOverlay"]
texture_filter = 1
custom_minimum_size = Vector2(0, 8)
offset_left = -123.0
offset_top = -73.0
offset_right = -59.0
offset_bottom = -65.0
theme_override_fonts/font = ExtResource("3_k6jil")
text = "45"
label_settings = SubResource("LabelSettings_k6jil")
vertical_alignment = 1

[node name="GoldNuggetTODO" type="Sprite2D" parent="UIOverlay"]
texture_filter = 1
position = Vector2(-132, -69)
texture = SubResource("AtlasTexture_7c77r")

[node name="GemCounter" type="Label" parent="UIOverlay"]
texture_filter = 1
custom_minimum_size = Vector2(0, 8)
offset_left = -123.0
offset_top = -53.0
offset_right = -59.0
offset_bottom = -45.0
theme_override_fonts/font = ExtResource("3_k6jil")
text = "12"
label_settings = SubResource("LabelSettings_k6jil")
vertical_alignment = 1

[node name="GemNuggetTODO" type="Sprite2D" parent="UIOverlay"]
texture_filter = 1
position = Vector2(-132, -49)
scale = Vector2(0.125, 0.125)
texture = ExtResource("3_rxyb6")

[node name="Enemy" parent="." node_paths=PackedStringArray("pathfinding") instance=ExtResource("9_7c77r")]
position = Vector2(-56, 24)
pathfinding = NodePath("../EnemyFloodfillCalc")

[node name="PlayerDrill" parent="." node_paths=PackedStringArray("FOG_OF_WAR") instance=ExtResource("10_pk1v7")]
position = Vector2(-8, -40)
FOG_OF_WAR = NodePath("../FogOfWar")
